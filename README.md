# üï∑Ô∏è Rich WebCrawler

–ü—Ä–æ—Å—Ç–æ–π, –Ω–æ –º–æ—â–Ω—ã–π CLI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–∞ Python –¥–ª—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ –æ–±—Ö–æ–¥–∞ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü –ø–æ –∑–∞–¥–∞–Ω–Ω–æ–º—É URL –∏ –ø–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
–°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `Playwright` –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –≤ .PDF –∏ `rich` –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ.

![Demo GIF](https://github.com/kkrugley/webcrawler/blob/main/src/demo.gif)

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∑–∞–ø—É—Å–∫**: –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç URL, –≥–ª—É–±–∏–Ω—É –æ–±—Ö–æ–¥–∞ –∏ –∑–∞–¥–µ—Ä–∂–∫—É –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ.
- **–ì–∏–±–∫–∏–π —ç–∫—Å–ø–æ—Ä—Ç**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞ —Ñ–æ—Ä–º–∞—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è ‚Äî –∫–∞–∫ –≤–∏–∑—É–∞–ª—å–Ω–æ —Ç–æ—á–Ω—ã–π PDF –∏–ª–∏ –∫–∞–∫ —á–∏—Å—Ç—ã–π —Ç–µ–∫—Å—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown (.md).
- **–§—É–Ω–∫—Ü–∏—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤**: –í—Å–µ —Å–∫–∞—á–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤ –æ–¥–∏–Ω –∏—Ç–æ–≥–æ–≤—ã–π PDF-—Ñ–∞–π–ª –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ä–µ–∂–∏–º–∞ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è.
- **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —Å–∫—Ä–∞–ø–∏–Ω–≥**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç "–±–µ–∑–≥–æ–ª–æ–≤—ã–π" –±—Ä–∞—É–∑–µ—Ä Chrome —á–µ—Ä–µ–∑ Playwright –¥–ª—è –æ–±—Ö–æ–¥–∞ –∑–∞—â–∏—Ç –æ—Ç –±–æ—Ç–æ–≤.
- **–°—Ç—Ä–æ–≥–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã –æ–±—Ö–æ–¥–∞**: –û—Å—Ç–∞–µ—Ç—Å—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –ø—É—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/docs/`), –Ω–µ —É—Ö–æ–¥—è –Ω–∞ –¥—Ä—É–≥–∏–µ —Ä–∞–∑–¥–µ–ª—ã –∏–ª–∏ –ø–æ–¥–¥–æ–º–µ–Ω—ã —Å–∞–π—Ç–∞.
- **–í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ —Å–∫—Ä–∞–ø–ø–∏–Ω–≥–∞**: –í —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º —Ä–µ–∂–∏–º–µ —Å–∫—Ä–∏–ø—Ç –æ–±—Ö–æ–¥–∏—Ç —Å–∞–π—Ç, –ø–µ—Ä–µ—Ö–æ–¥—è –ø–æ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º —Å—Å—ã–ª–∫–∞–º, –Ω–∞—á–∏–Ω–∞—è —Å —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Å—Ç–∞—Ä—Ç–æ–≤–æ–≥–æ URL –∏ —Å–æ–±–ª—é–¥–∞—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –≥–ª—É–±–∏–Ω—É –æ–±—Ö–æ–¥–∞. –í —Ä–µ–∂–∏–º–µ Sitemap.xml —Å–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ñ–∞–π–ª sitemap.xml —Å–∞–π—Ç–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ–∫–∞—è –≤—Å–µ —Å—Å—ã–ª–∫–∏ –∏–∑ –Ω–µ–≥–æ.
- **–ö—Ä–∞—Å–∏–≤—ã–π CLI**: –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä, —Å—Ç–∞—Ç—É—Å—ã –∏ –æ—à–∏–±–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å –ø–æ–º–æ—â—å—é `rich`.
- **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–∞–±–æ—Ç–µ**: –í–∫–ª—é—á–∞–µ—Ç `requirements.txt` –∏ `.gitignore` –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è.
- **–ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ User-Agent –∏ HTTP-–∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –æ–±—Ö–æ–¥–∞ –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞—â–∏—Ç.
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–Ω—è—Ç–∏–µ cookie**: –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç –∏ –Ω–∞–∂–∏–º–∞–µ—Ç –Ω–∞ –∫–Ω–æ–ø–∫—É –ø—Ä–∏–Ω—è—Ç–∏—è cookie-—Å–æ–≥–ª–∞—à–µ–Ω–∏–π.

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone https://github.com/kkrugley/webcrawler.git
cd webcrawler
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
–î–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `pyenv` –∏ `venv`.

```bash
# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω—É–∂–Ω—É—é –≤–µ—Ä—Å–∏—é Python (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞)
pyenv install 3.11.9 
pyenv local 3.11.9

# –°–æ–∑–¥–∞–µ–º –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv .venv
source .venv/bin/activate  # –¥–ª—è macOS/Linux
# .\.venv\Scripts\Activate.ps1 # –¥–ª—è Windows PowerShell
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Python
pip install -r requirements.txt

# Playwright –¥–æ–ª–∂–µ–Ω —Å–∫–∞—á–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã
playwright install chrome (Run with Admin rights)
```

## üéÆ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç. –û–Ω —Å–∞–º –∑–∞–¥–∞—Å—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã.

```bash
python main.py
```

–í–∞–º –±—É–¥–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ –≤–≤–µ—Å—Ç–∏:
1.  **–°—Ç–∞—Ä—Ç–æ–≤—ã–π URL**: –ê–¥—Ä–µ—Å, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞—á–Ω–µ—Ç—Å—è –æ–±—Ö–æ–¥.
2.  **–í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ —Å–∫—Ä–∞–ø–ø–∏–Ω–≥–∞**:
    *   [*1*] –¥–ª—è –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ (–æ–±—Ö–æ–¥ –ø–æ —Å—Å—ã–ª–∫–∞–º).
    *   [*2*] –¥–ª—è —Ä–µ–∂–∏–º–∞ Sitemap.xml.
3.  **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–ª—É–±–∏–Ω–∞**: –ù–∞—Å–∫–æ–ª—å–∫–æ "–∫–ª–∏–∫–æ–≤" –≤–≥–ª—É–±—å –æ—Ç —Å—Ç–∞—Ä—Ç–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–¥—Ç–∏.
4.  **–ó–∞–¥–µ—Ä–∂–∫–∞**: –ü–∞—É–∑–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∫ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º –≤ —Å–µ–∫—É–Ω–¥–∞—Ö.
5.  **–§–æ—Ä–º–∞—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞**: –í—ã–±–æ—Ä –º–µ–∂–¥—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü –≤ PDF –∏–ª–∏ –∫–∞–∫ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã (.md).
6.  **–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤**: –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ª–∏ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å —Å–∫–∞—á–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –æ–¥–∏–Ω –∏—Ç–æ–≥–æ–≤—ã–π —Ñ–∞–π–ª.


–í —Å–ª—É—á–∞–µ –≤—ã–±–æ—Ä–∞ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤, –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ—è–≤–∏—Ç—Å—è –∏—Ç–æ–≥–æ–≤—ã–π —Ñ–∞–π–ª (`merged_output.pdf` –∏–ª–∏ `merged_output.md`). –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –≤ –ø–∞–ø–∫–µ `output_pdfs/` –∏–ª–∏ `output_texts/` –∏ —É–¥–∞–ª–µ–Ω—ã –ø–æ—Å–ª–µ —Å–ª–∏—è–Ω–∏—è. –ï—Å–ª–∏ –±—ã–ª –≤—ã–±—Ä–∞–Ω –≤–∞—Ä–∏–∞–Ω—Ç "–Ω–µ –æ–±—ä–µ–¥–∏–Ω—è—Ç—å", —Ç–æ–≥–¥–∞ —Ñ–∞–π–ª—ã –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –ø–∞–ø–∫–µ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏.

---

> **–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏**:
>   - `TimeoutError:  Timeout 60000ms exceeded` - –≤–µ—Ä–æ—è—Ç–Ω–æ —Å–≤—è–∑–∞–Ω–∞ —Å  –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã —Å–∞–π—Ç–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫–ª—é—á–∏—Ç—å VPN –∏/–∏–ª–∏ –ø—Ä–æ–∫—Å–∏.


## Roadmap:

- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ö–æ–¥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –≤ —Ä–∞–º–∫–∞—Ö –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å–∞–π—Ç–∞;
- –î–µ—Ç–µ–∫—Ü–∏—è –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ "–º—É—Å–æ—Ä–Ω–æ–≥–æ" –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ .md —Ñ–∞–π–ª–∞—Ö (footer, cookie-–±–∞–Ω–Ω–µ—Ä—ã, –±–æ–∫–æ–≤—ã–µ –ø–∞–Ω–µ–ª–∏);
- –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏;
- –†–æ—Ç–∞—Ü–∏—è User-Agent'–æ–≤ –∏ HTTP –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤;
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ JSON —Ñ–æ—Ä–º–∞—Ç–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö;